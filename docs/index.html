<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>@iterable/react-native-sdk</title>
	<meta name="description" content="Documentation for @iterable/react-native-sdk">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">@iterable/react-native-sdk</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>@iterable/react-native-sdk</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#iterable-react-native-sdk" id="iterable-react-native-sdk" style="color: inherit; text-decoration: none;">
					<h1>Iterable React Native SDK</h1>
				</a>
				<a href="#resources" id="resources" style="color: inherit; text-decoration: none;">
					<h3>Resources</h3>
				</a>
				<ul>
					<li><a href="https://github.com/Iterable/swift-sdk">Iterable iOS SDK</a></li>
					<li><a href="https://github.com/Iterable/iterable-android-sdk">Iterable Android SDK</a></li>
					<li><a href="https://iterable.github.io/react-native-sdk/modules/_iterable_.html">API docs</a></li>
				</ul>
				<a href="#requirements" id="requirements" style="color: inherit; text-decoration: none;">
					<h3>Requirements:</h3>
				</a>
				<ul>
					<li>Xcode 11+</li>
					<li>iOS: Deployment target 10.0+</li>
					<li>Android: minSdkVersion 16+, compileSdkVersion 28+</li>
					<li>React Native &gt;= 0.60.0</li>
					<li>React Native cli &gt;= 2.0.1</li>
				</ul>
				<a href="#install" id="install" style="color: inherit; text-decoration: none;">
					<h2>Install</h2>
				</a>
				<pre><code><span class="hljs-built_in">npm</span> install react-<span class="hljs-keyword">native</span>-iterable</code></pre>
				<a href="#sample-application" id="sample-application" style="color: inherit; text-decoration: none;">
					<h2>Sample Application</h2>
				</a>
				<p>This repository contains the following sample application</p>
				<ul>
					<li><a href="https://github.com/Iterable/react-native-sdk/blob/master/SampleApp">Sample Application</a></li>
				</ul>
				<a href="#ios-setup" id="ios-setup" style="color: inherit; text-decoration: none;">
					<h2>iOS Setup</h2>
				</a>
				<ol>
					<li><p>Install pods</p>
						<pre><code class="language-bash"> <span class="hljs-built_in">cd</span> ios &amp;&amp; pod install</code></pre>
						<p> If your app will receive rich push notification containing media
							attachments (images, etc.) and/or custom buttons, add the
							<strong>Iterable-iOS-AppExtensions</strong> pod to your project&#39;s
						<code>Notification Service Extension</code> target.</p>
						<pre><code class="language-ruby"> target <span class="hljs-string">'&lt;YOUR-APP-NOTIFICATION-EXTENSION-TARGET-NAME&gt;'</span> <span class="hljs-keyword">do</span>
     pod <span class="hljs-string">'Iterable-iOS-AppExtensions'</span>
 <span class="hljs-keyword">end</span></code></pre>
						<p> Please see <a href="https://support.iterable.com/hc/articles/360035451931#configure-support-for-rich-push-notifications">here</a>
						regarding how to setup rich push notifications.</p>
					</li>
					<li><p>Add the following capabilities to your application target as needed.</p>
						<ul>
							<li><code>Background Modes - Remote notifications</code> - needed for in-app messages</li>
							<li><code>Push Notifications</code> - needed for push messages</li>
							<li><code>Associated Domains</code> - needed for deep linking. Please see more information <a href="https://support.iterable.com/hc/articles/360035496511">here</a>.</li>
						</ul>
					</li>
					<li><p>To enable in-app messages and push notifications, set both of the following in your <code>AppDelegate</code> file</p>
						<pre><code class="language-swift"> <span class="hljs-comment">// Needed to register token for messaging</span>
 <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">application</span><span class="hljs-params">(<span class="hljs-number">_</span> application: UIApplication, didRegisterForRemoteNotificationsWithDeviceToken deviceToken: Data)</span></span> {
     <span class="hljs-type">IterableAPI</span>.register(token: deviceToken)
 }

 <span class="hljs-comment">// Needed to receive silent push notifications for in-app messages</span>
 <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">application</span><span class="hljs-params">(<span class="hljs-number">_</span> application: UIApplication, didReceiveRemoteNotification userInfo: [AnyHashable : <span class="hljs-keyword">Any</span>], fetchCompletionHandler completionHandler: @escaping <span class="hljs-params">(UIBackgroundFetchResult)</span></span></span> -&gt; <span class="hljs-type">Void</span>) {
        <span class="hljs-type">IterableAppIntegration</span>.application(application, didReceiveRemoteNotification: userInfo, fetchCompletionHandler: completionHandler)
 }        </code></pre>
						<p> Now you should be able to retrieve in-app messages without any further configuration.</p>
					</li>
					<li><p>To enable push notifications, call Apple&#39;s
							<a href="https://developer.apple.com/documentation/usernotifications/unusernotificationcenter/1649527-requestauthorization"><code>requestAuthorization</code></a>
							method on <a href="https://developer.apple.com/documentation/usernotifications/unusernotificationcenter"><code>UNNotificationCenter</code></a>
							to prompt the user for these permissions. Before requesting authorization,
						remember to set the <code>delegate</code> property for <code>UNUserNotificationCenter.current()</code>.</p>
						<pre><code class="language-swift">     <span class="hljs-type">UNUserNotificationCenter</span>.current().delegate = <span class="hljs-keyword">self</span>
     <span class="hljs-type">UNUserNotificationCenter</span>.current().requestAuthorization(options:[.alert, .badge, .sound]) { (success, error) <span class="hljs-keyword">in</span>
         <span class="hljs-comment">// ...</span>
     }</code></pre>
						<pre><code class="language-swift"> <span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">AppDelegate</span>: <span class="hljs-title">UNUserNotificationCenterDelegate</span> </span>{
      <span class="hljs-comment">// App is running in the foreground</span>
        <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">userNotificationCenter</span><span class="hljs-params">(<span class="hljs-number">_</span> center: UNUserNotificationCenter, willPresent notification: UNNotification, withCompletionHandler completionHandler: @escaping <span class="hljs-params">(UNNotificationPresentationOptions)</span></span></span> -&gt; <span class="hljs-type">Void</span>) {
         completionHandler([.alert, .badge, .sound])
     }

     <span class="hljs-comment">// The method will be called on the delegate when the user responded to the notification by opening the application, dismissing the notification or choosing a UNNotificationAction. The delegate must be set before the application returns from applicationDidFinishLaunching:.</span>
     <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">userNotificationCenter</span><span class="hljs-params">(<span class="hljs-number">_</span> center: UNUserNotificationCenter, didReceive response: UNNotificationResponse, withCompletionHandler completionHandler: @escaping <span class="hljs-params">()</span></span></span> -&gt; <span class="hljs-type">Void</span>) {
         <span class="hljs-type">IterableAppIntegration</span>.userNotificationCenter(center, didReceive: response, withCompletionHandler: completionHandler)
     }
 }</code></pre>
					</li>
					<li><p>To handle Iterable deep link URLs of the form <code>https://links.yourcompany.com/a/3906b9d2bd8</code>,
							which are used to track email clicks, you will have to pass this URL from
						<code>application(_:continue:restorationHandler:)</code> to <code>IterableAPI</code> as below:</p>
						<pre><code class="language-swift"> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">application</span><span class="hljs-params">(<span class="hljs-number">_</span> application: UIApplication, <span class="hljs-keyword">continue</span> userActivity: NSUserActivity, restorationHandler: @escaping <span class="hljs-params">([UIUserActivityRestoring]?)</span></span></span> -&gt; <span class="hljs-type">Void</span>) -&gt; <span class="hljs-type">Bool</span> {
     <span class="hljs-type">ITBInfo</span>()
     <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> url = userActivity.webpageURL <span class="hljs-keyword">else</span> {
         <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
     }

     <span class="hljs-keyword">return</span> <span class="hljs-type">IterableAPI</span>.handle(universalLink: url)
 }</code></pre>
						<p> If you pass a regular URL to <code>IterableAPI.handle(universalLink:)</code>, that URL
							will be passed unaltered to <code>IterableConfig.urlDelegate</code>. If you pass an
							Iterable deep link uURLrl to <code>IterableAPI.handle(universalLink:)</code>, we will
							convert this URL to a regular URL and pass the resolved URL to
						<code>IterableConfig.urlDelegate</code>. </p>
						<p> We recommend handling <strong>all URLs</strong> in <code>IterableConfig.urlDelegagte</code>. This way
						you ca  have all of your URL handling logic in one place.</p>
						<p> Please see <a href="#configuring-the-sdk">Configuring the SDK</a> section below to see
						how to set <code>IterableConfig.urlDelegate</code>.</p>
					</li>
				</ol>
				<blockquote>
					<p>&#x1f4a1; You can take a look at our sample <a href="https://github.com/Iterable/react-native-sdk/blob/master/SampleApp/ios/SampleApp/AppDelegate.swift">AppDelegate</a>
					file to see an example of the above mentioned changes.</p>
				</blockquote>
				<a href="#android-setup" id="android-setup" style="color: inherit; text-decoration: none;">
					<h2>Android Setup</h2>
				</a>
				<ol>
					<li>Step 1</li>
					<li>Step 2</li>
				</ol>
				<a href="#configuring-the-react-native-sdk" id="configuring-the-react-native-sdk" style="color: inherit; text-decoration: none;">
					<h2>Configuring the React Native SDK</h2>
				</a>
				<ol>
					<li><p>Import Iterable react native components</p>
						<pre><code class="language-javascript"> <span class="hljs-keyword">import</span> { Iterable, IterableConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-iterable'</span>;</code></pre>
					</li>
					<li><p>Set an API Key</p>
						<pre><code class="language-javascript"> <span class="hljs-keyword">const</span> config = IterableConfig();
 Iterable.initialize(<span class="hljs-string">'&lt;YOUR_API_KEY&gt;'</span>, config);</code></pre>
					</li>
					<li><p>Set userId or email</p>
						<pre><code class="language-javascript"> Iterable.email = <span class="hljs-string">'&lt;USER_EMAIL_ADDRESS&gt;'</span>;</code></pre>
						<blockquote>
							<p>&#x26A0; Don&#39;t specify a value for both <code>email</code> and <code>userId</code> in the same
								session, as they will be treated as different users by the SDK. Only use
							one type of identifier, <code>email</code> or <code>userId</code>, to identify the user.</p>
						</blockquote>
					</li>
					<li><p>To handle URLs coming from in-app messages and push messages as well as to
							handle Iterable deep link URLs coming from emails, you will have to set
						<code>IterableConfig.urlDelegate</code> to handle the URL. Please see the example below.</p>
						<pre><code class="language-javascript"> <span class="hljs-keyword">const</span> config = <span class="hljs-keyword">new</span> IterableConfig()

 config.urlDelegate = <span class="hljs-function">(<span class="hljs-params">url, context</span>) =&gt;</span> {
     <span class="hljs-keyword">if</span> (url.match(<span class="hljs-regexp">/product\/([^\/]+)/i</span>)) {
         <span class="hljs-keyword">this</span>.navigate(match[<span class="hljs-number">1</span>]);
         <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// handled</span>
     }

     <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// not handled</span>
}

Iterable.initialize(<span class="hljs-string">'&lt;YOUR_API_KEY&gt;'</span>, config);</code></pre>
					</li>
				</ol>
				<a href="#license" id="license" style="color: inherit; text-decoration: none;">
					<h2>License</h2>
				</a>
				<p>The MIT License</p>
				<p>See <a href="LICENSE.md">LICENSE</a></p>
				<a href="#want-to-contribute" id="want-to-contribute" style="color: inherit; text-decoration: none;">
					<h2>Want to contribute?</h2>
				</a>
				<p>This library is open source, and we will look at pull requests!</p>
				<p>See <a href="CONTRIBUTING.md">CONTRIBUTING</a> for more information.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_iterable_.html">&quot;<wbr>Iterable&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_iterableinappclasses_.html">&quot;<wbr>Iterable<wbr>InApp<wbr>Classes&quot;</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>